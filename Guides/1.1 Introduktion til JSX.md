# Introduktion til JSX

JSX står for *JavaScript XML* og er en syntaksudvidelse til javascript, der giver os mulighed for at skrive HTML i React. 

**Eksempel på JSX:** 
```js
const element = <h1> Hej verden! </h1>;
```
Syntaksen blander således javascript og html.
___
## Hvorfor JSX?
React kræver ikke brug af JSX, men det gør det væsentligt nemmere at kunne skrive html tags direkte i javascript koden. Det giver også React mulighed for at vise mere nyttige fejl- og advarselsmeddelelser.
___
## Integrering af udtryk i JSX
I eksemplet nedenfor erklærer vi en variabel kaldet navn og bruger den derefter inde i JSX ved at indpakke den i curly brackets. Næsten ligesom når vi arbejder med template strings i javascript:
```js
const name = 'Josh Perez';
const element = <h1> Hej, {name} </h1>;
```
Du kan placere ethvert gyldigt JavaScript-udtryk i curly brakets i JSX. For eksempel er `2 + 2`, `user.firstName` eller `formatName (user)` alle gyldige JavaScript-udtryk i JSX.

I eksemplet nedenfor integrerer vi resultatet af at kalde en JavaScript-funktion, formatName (bruger), ind i et &lt;h1&gt; element.
```js
const formatName = user => {
  return `${user.firstName} ${user.lastName}`;
}

const user = {
  firstname: 'Jens',
  lastname: 'Hansen'
};

const element = (
  <h1>
    Hej, {formatName (bruger)}!
  </h1>
);

ReactDOM.render (
  element,
  document.getElementById('root')
);
```
___
JSX kan med fordel deles over flere linjer for en bedre læsbarhed. Og selvom det ikke er påkrævet, anbefaler vi også, at du pakker din JSX ind i en parentes for at undgå faldgruber ved automatisk indsættelse af semikolon.
___
## JSX som udtryk
Du kan også bruge JSX inde i if-udsagn og for loops, tildele det til variabler, acceptere det som argumenter og returnere det fra funktioner:
```js
function getGreeting(user) {
  if(user) {
    return <h1> Hej, {formatName(user)}!</h1>;
  }
  return <h1> Hej stranger.</h1>;
}
```
___
## Angivelse af attributter med JSX
Du kan bruge citater til at specificere strenglitteraler som attributter:
```js
const element = <div tabIndex="0"></div>;
```
Du kan også bruge curly brackets til at integrere et JavaScript-udtryk i en html attribut:
```js
const element = <img src={user.avatarUrl}> </img>;
```
Undgå at sætte anførselstegn omkring curly brackets, når du integrerer et JavaScript-udtryk i en attribut. Du skal enten bruge anførselstegn (for strengværdier) eller curly brackets (til udtryk), men ikke begge i samme attribut.
___
## Advarsel:
Da JSX er tættere på JavaScript end HTML, bruger React DOM camelCase som naming convention i stedet for HTML-attributnavne.

For eksempel bliver attributten *class*  til *className* i JSX, og *tabindex* bliver til *tabIndex*.
___
## Specificering af children med JSX
Hvis et tag er tomt, kan du straks lukke det med />, ligesom XML:
```js
const element = <img src={user.avatarUrl} />;
```
JSX-tags kan indeholde børn:
```js
const element = (
  <div>
    <h1> Hej! </h1>
    <h2> Godt at se dig her. </h2>
  </div>
);
```
## JSX forhindrer angreb
Det er sikkert at integrere brugerinput i JSX:
```js
const title = respons.potentiallyMaliciousInput;
// Dette er sikkert:
const element = <h1> {title} </h1>;
```
Som standard undgår React DOM alle værdier, der er indlejret i JSX, før de gengives. Det sikrer således, at du aldrig kan injecte  noget, der ikke er skrevet i din applikation. Alt konverteres til en streng, før det gengives. Dette hjælper med at forhindre XSS (cross-site-scripting) angreb.
___
## JSX repræsenterer objekter
Babel kompilerer JSX ned til React.createElement() kald.

Disse to eksempler er identiske:
```js
const element = (
  <h1 className = "hilsen">
    Hej Verden!
  </h1>
);

const element = React.createElement(
  'h1',
  {className: 'greeting'},
  'Hej Verden!'
);
```
React.createElement() udfører et par kontroller for at hjælpe dig med at skrive fejlfri kode, men i det væsentlige opretter det et objekt som dette:
```js
// Bemærk: denne struktur er forenklet
const element = {
  type: 'h1',
  attributes: {
    className: 'greeting',
    children: 'Hej verden!'
  }
}
```
Disse objekter kaldes “React elements”. Du kan tænke på dem som beskrivelser af, hvad du vil se på skærmen. React læser disse objekter og bruger dem til at konstruere DOM og holde den opdateret.